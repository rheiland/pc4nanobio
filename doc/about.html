<h2><strong>GUI Overview</strong></h2>
<ul>
<li><b>Config Basics</b> tab:&nbsp;&nbsp; input parameters common to all models (e.g., domain grid, simulation time, choice/frequency of outputs)</li>
<li><b>Microenvironment</b> tab:&nbsp;&nbsp; microenvironment parameters that are model-specific</li>
<li><b>User Params</b> tab:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; user parameters that are model-specific</li>
<li><b>Cell Properties</b> tab:&nbsp;&nbsp; parameters describing cells</li>
<li><b>Nanoparticles</b> tab:&nbsp;&nbsp;&nbsp;&nbsp; parameters describing nanoparticles</li>
<li><b>Out: Cell Plots</b> tab:&nbsp;&nbsp;&nbsp; output display of the cells</li>
<li><b>Out: Substrates</b> tab:&nbsp; output display of the substrates</li>
</ul>
Clicking the 'Run' button will use the specified parameters and start a simulation. When clicked, it creates an "Output" widget
that can be clicked/expanded to reveal the progress (text) of the simulation. When the simulation generates output file(s),
they can be visualized in the appropriate output tabs. The "Max" count in each output tab will be dynamically updated 
as those output files are generated by the running simulation. When the "Run" button is clicked, it toggles to a "Cancel" button
that will terminate (not pause) the simulation.


<p>This model and cloud-hosted demo are part of a course on computational multicellular systems biology created and taught by 
    Dr. Paul Macklin in the Department of Intelligent Systems Engineering at Indiana University. It is also part of the education 
    and outreach for the IU Engineered nanoBIO Node and the NCI-funded cancer systems biology grant U01CA232137. 
    The models are built using <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005991" target="_blank">PhysiCell</a>: 
    a C++ framework for multicellular systems biology [1].</p>


<h2><a id="instructions" name="instructions">Basic instructions</a></h2>

<p>Modify the parameters in the &quot;Config Basics&quot; and &quot;User Params&quot; tabs. Click the &quot;Run&quot; button once you are ready.</p>

<p>To view the behavior of the cells , click the &quot;Cell Plots&quot; tab, and slide the bar to advance through simulation frames. 
Note that as the simulation runs, the &quot;Max&quot; field (maximum frame number) will increase, so you can view more simulation frames.</p>

<p>To view the changing substrate fields, click the &quot;Substrate Plots&quot; tab, choose a substrate from the drop-down menu, 
and slide through the saved times. Note that as the simulation runs, the &quot;max&quot; field (maximum frame number) will increase, 
so you can view more simulation frames.</p>

<p>Note that you can download full simulation data for further exploration in your tools of choice.</p>

<h2>Introduction and purpose</h2>

<p>Nanoparticles can be designed to change shape and potentially other properties in specific pH conditions. Many cancers exhibit altered, glycolytic metabolism, leading to increased tissue acidity. This makes pH an ideal control for targeted release of cancer therapeutics.&nbsp;</p>

<p>Moreover, synthetic biology and other bioengineering techniques are increasingly creating novel compounds that can target and tune specific aspects of cell phenotype (behavior), such as proliferation, adhesion, motility, and metabolism. This presents both key opportunities and challenges: <strong><em>W</em></strong><strong><em>hat if&nbsp;</em></strong>we could tune what a therapeutic does, and where it is delivered?&nbsp;<strong><em>Which&nbsp;</em></strong>therapies would be worth delivering? <b><i>What&nbsp;</i></b>are the key design parameters?&nbsp;</p>

<p>The aim of this tool is to explore these what if questions: users can set nanoparticle, tissue, cell, and drug response parameters for a growing tumor, and see for themselves how things could play out for their design choices.</p>

<p>Note that this tool is a <strong>work in progress</strong>: we are currently preparing a publication, which will be posted to bioRxiv in Summer 2018 and submitted for publication.&nbsp;</p>

<p>This project extensively involves&nbsp;<strong>undergraduates&nbsp;</strong>in its design and execution. Because we aim not only to develop useful research tools,&nbsp;but also train the next generation of bioengineers. As such, we greatly appreciate your constructive feedback on usability, features, and model biofidelity.&nbsp;</p>

<h2>Model</h2>

<h3>PhysiCell overview</h3>

<p><a href="http://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005991">PhysiCell</a>&nbsp;[<a href="http://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005991">1</a>] simulates multi-substrate diffusive biotransport as a vector of diffusion-reaction equations&nbsp;using <a href="https://academic.oup.com/bioinformatics/article/32/8/1256/1744374">BioFVM</a> [<a href="http://academic.oup.com/bioinformatics/article/32/8/1256/1744374">2</a>], and adds lattice-free software agents to represent cells. Each cell agent has a <strong>hierarchical&nbsp;phenotype&nbsp;</strong>that contains a structured list of the cell&#39;s current behavioral parameters and properties. PhysiCell models basic interaction mechanics, motility, secretion/uptake of substrates, cell cycle progression, apoptosis, and necrosis. In addition, users can add custom functions and data on a cell-by-cell basis. This tool is built using PhysiCell and a number of custom functions to implement <strong>pharmacodynamics </strong>(response to a therapeutic agent).&nbsp;</p>

<h3>Nanoparticles and pharmacokinetics</h3>

<p>We model the shape-changing nanoparticle (NP) as two diffusing phases&nbsp;(NP1: the untransformed particle, and NP2, the transformed particle), which are released as NP1 at the simulation boundary.&nbsp;NP1 and NP2 can be assigned different diffusion coefficients and decay rates, reflecting that they can potentially be designed with radically different properties.&nbsp;</p>

<p>We model the nanoparticle shape change as&nbsp;a microenvironment-dependent transformation from phase NP1 to phase NP2, and vice versa. In the first versions of the tool, we specify NP1 to NP2 and NP2 to NP1 transformations as oxygen-dependent, as oxygen gradients generally correlate with pH gradients in tumors. Later versions will explicitly model tumor cell metabolism and pH changes.</p>

<p>The code can either base pharmacodynamics (below) upon the local NP1 and NP2 concentrations, or with an active NP influx model. In the code, we allow NP1 and NP2 to have separate uptake rates.&nbsp;</p>

<p>Full equations will be provided very soon.</p>

<h3>Cells and pharmacodynamics</h3>

<p><strong>Without drug:</strong></p>

<p>Cells will be assigned a wild-type microenvironment-dependent&nbsp;phenotype&nbsp;<strong>P</strong><sub>0</sub>(<strong>E</strong>), where <b>P&nbsp;</b>is the vector of phenotype properties, and&nbsp;<strong>E&nbsp;</strong>is the cell&#39;s local microenvironmental conditions. As in [1], cell cycle entry increases with oxygenation, apoptosis occurs at a steady background rate throughout viable tissue, and necrosis increases with oxygen depletion.&nbsp;</p>

<p><strong>With drug:</strong>&nbsp;</p>

<p>We assume that a drug or therapeutic compound is conjugated to the nanoparticles, and that tumor cells uptake the conjugated drug along with the nanoparticles. This code will independently track internalized NP1 and NP2 for each individual cell.&nbsp;</p>

<p>We model pharmacodynamics for NP1 and NP2 separately. For either NP, we specify the the maximum phenotype response vector&nbsp;<strong>P</strong><sub>M</sub>. Moreover, we specify a Boolean vector&nbsp;<strong>B&nbsp;</strong>that indicates which phenotypic elements the NP-conjugated drug acts upon. (For example, a drug that is purely cytostatic would act upon phenotype elements for cycle progression, and no others.) Each NP phase (1 or 2) has an independent Hill coefficient (<em>h</em>)<em>&nbsp;</em>and half-max effect internalized NP concentration (NP<sub>0.5</sub>). We use a Hill effects model:</p>

<p><em>E</em> = NP<em><sup>h</sup></em> / ( NP<sub>0.5</sub><em><sup>h</sup></em> + NP<em><sup>h</sup></em>).</p>

<p>Note that the code will also allow us to replace NP with an AUC (area-under-the-curve) model int_0^t NP(s) ds. Also, the code will allow an active damage and repair model, based upon the internalized NP concentration. More details on this in a future code release.&nbsp;</p>

<p>For each cell&#39;s current effect <em>E</em>, we set its phenotype to:</p>

<p><strong>P</strong>&nbsp;= (1-<em>E</em>)&nbsp;<strong>P</strong><sub>0</sub>(<em>E</em>) + <em>E</em>&nbsp;<strong>P</strong><sub>M</sub></p>

<p>Note that we compute the effect for each NP phase, and take the maximum effect. Equations will be posted in a future release, and a publication is being drafted.&nbsp;</p>

<h2>Instructions</h2>

<p>Click &quot;Launch Tool&quot; and after the tool appears, click the&nbsp;&quot;Run&quot; button to run an interactive simulation using the default parameters. While the simulation is running, click the &quot;Cell Plots&quot; or &quot;Substrate Plots&quot; tab and select the frame slider to visualize results as they are being computed. Click the &quot;Cancel&quot; button to cancel the simulation at any time.</p>

<p>Console output (runtime progress) appears in the &quot;Output&quot; window (click on &quot;Output&quot; to open/close it).&nbsp;</p>

<p>The fields (e.g., O<sub>2</sub>, NP1 and NP2) appear&nbsp;in the &quot;Substrate Plots&quot; tab. Choose a substrate from the drop-down menu, click/drag&nbsp;the frame slider or use left/right keyboard arrow keys to single-step.&nbsp;</p>
